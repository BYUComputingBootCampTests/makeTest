CC=g++
TARGET=tree
SOURCES=$(wildcard *.cpp)
HEADERS=$(wildcard *.h)
OBJECTS=$(SOURCES:.cpp=.o)

echo $(SOURCES) > compiled.txt
echo $(HEADERS) >> compiled.txt

$(TARGET): $(OBJECTS)
	$(CC) -o $@ $^

%.o: $(SOURCES)
	$(CC) -c $<

clean:
	rm $(TARGET)
	rm compiled.txt
	rm $(OBJECTS)
